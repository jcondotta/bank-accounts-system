package com.jcondotta.bankaccounts.domain.value_objects.personal;

import static com.jcondotta.bankaccounts.domain.validation.DomainPreconditions.required;

public record PersonalInfo(
  AccountHolderName name,
  IdentityDocument identityDocument,
  DateOfBirth dateOfBirth
) {

  public static final String NAME_NOT_PROVIDED = "Account holder name must be provided.";
  public static final String IDENTITY_DOCUMENT_NOT_PROVIDED = "Identity document must be provided.";
  public static final String DATE_OF_BIRTH_NOT_PROVIDED = "Date of birth must be provided.";

  public PersonalInfo {
    required(name, NAME_NOT_PROVIDED);
    required(identityDocument, IDENTITY_DOCUMENT_NOT_PROVIDED);
    required(dateOfBirth, DATE_OF_BIRTH_NOT_PROVIDED);
  }

  public static PersonalInfo of(AccountHolderName name, IdentityDocument identityDocument, DateOfBirth dateOfBirth) {
    return new PersonalInfo(name, identityDocument, dateOfBirth);
  }
}